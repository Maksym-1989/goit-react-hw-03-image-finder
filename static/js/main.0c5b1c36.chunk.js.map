{"version":3,"sources":["components/modal/Modal.module.css","components/imageGalleryItem/ImageGalleryItem.jsx","components/modal/Modal.jsx","components/imageGallery/ImageGallery.jsx","components/searchbar/Searchbar.jsx","components/button/Button.jsx","components/loader/Loader.jsx","components/app/App.js","index.js"],"names":["module","exports","ImageGalleryItem","imgSrc","imgAlt","largeSrc","onImgClick","className","src","alt","onClick","Modal","handleKeydown","event","code","props","onClose","onOverlayClick","target","currentTarget","window","addEventListener","this","removeEventListener","createPortal","css","Overlay","children","document","querySelector","Component","ImageGallery","state","showModal","toggleModal","setState","gallery","map","id","webformatURL","largeImageURL","tags","Searchbar","query","handleSubmit","preventDefault","onSubmit","handleChange","value","type","autoComplete","autoFocus","placeholder","onChange","Button","App","color","height","width","timeout","pageNamber","perPage","searchQuery","isLoading","fetchImg","axios","get","then","response","prevState","data","hits","scrollTo","top","documentElement","scrollHeight","behavior","catch","error","console","log","finally","changeQuery","prevProps","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.0c5b1c36.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__1p5z8\",\"Modal\":\"Modal_Modal__1NI2b\"};","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nconst ImageGalleryItem = ({ imgSrc, imgAlt, largeSrc, onImgClick }) => {\r\n  return (\r\n    <li className=\"ImageGalleryItem\">\r\n      <img\r\n        src={imgSrc}\r\n        alt={imgAlt}\r\n        className=\"ImageGalleryItem-image\"\r\n        onClick={() => {\r\n          onImgClick(largeSrc, imgAlt);\r\n        }}\r\n      />\r\n    </li>\r\n  );\r\n};\r\nImageGalleryItem.propTypes = {\r\n  imgSrc: PropTypes.string.isRequired,\r\n  imgAlt: PropTypes.string.isRequired,\r\n  largeSrc: PropTypes.string.isRequired,\r\n  onImgClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import React, { Component } from \"react\";\r\n\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport { createPortal } from \"react-dom\";\r\n\r\nimport css from \"./Modal.module.css\";\r\n\r\nclass Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener(\"keydown\", this.handleKeydown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"keydown\", this.handleKeydown);\r\n  }\r\n\r\n  handleKeydown = (event) => {\r\n    if (event.code === \"Escape\") {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  onOverlayClick = (event) => {\r\n    if (event.target === event.currentTarget) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return createPortal(\r\n      <div className={css.Overlay} onClick={this.onOverlayClick}>\r\n        <div className={css.Modal}>{this.props.children}</div>\r\n      </div>,\r\n      document.querySelector(\"#modal-root\")\r\n    );\r\n  }\r\n}\r\n\r\nModal.propTypes = {\r\n  onClose: PropTypes.func.isRequired,\r\n  children: PropTypes.node.isRequired,\r\n};\r\n\r\nexport default Modal;\r\n","import React, { Component } from \"react\";\r\nimport ImageGalleryItem from \"../imageGalleryItem/ImageGalleryItem\";\r\nimport Modal from \"../modal/Modal\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nclass ImageGallery extends Component {\r\n  state = {\r\n    showModal: false, // для Модального окна\r\n    largeSrc: \"\",\r\n    imgAlt: \"\",\r\n  };\r\n  // Методы\r\n  // работа Модального окна. Открытие-закрытие в зависимости от предыдущего значения\r\n  toggleModal = () => {\r\n    this.setState(({ showModal }) => ({\r\n      showModal: !showModal,\r\n    }));\r\n  };\r\n\r\n  // открытие модального окна при клике на изображение\r\n  onImgClick = (largeSrc, imgAlt) => {\r\n    // console.log(largeSrc);\r\n    // console.log(imgAlt);\r\n\r\n    this.toggleModal();\r\n\r\n    this.setState({ largeSrc, imgAlt });\r\n  };\r\n  render() {\r\n    const { showModal, largeSrc, imgAlt } = this.state;\r\n\r\n    const { gallery } = this.props;\r\n    return (\r\n      <>\r\n        <ul className=\"ImageGallery\">\r\n          {gallery.map(({ id, webformatURL, largeImageURL, tags }) => (\r\n            <ImageGalleryItem\r\n              key={id}\r\n              imgSrc={webformatURL}\r\n              imgAlt={tags}\r\n              largeSrc={largeImageURL}\r\n              onImgClick={this.onImgClick}\r\n            />\r\n          ))}\r\n        </ul>\r\n        {showModal && (\r\n          <Modal onClose={this.toggleModal}>\r\n            <img src={largeSrc} alt={imgAlt} />\r\n          </Modal>\r\n        )}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nImageGallery.propTypes = {\r\n  gallery: PropTypes.arrayOf(PropTypes.object).isRequired,\r\n};\r\n\r\nexport default ImageGallery;\r\n","import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nclass Searchbar extends Component {\r\n  state = { query: \"\" };\r\n\r\n  handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    this.props.onSubmit(this.state.query);\r\n    this.setState({\r\n      query: \"\",\r\n    });\r\n  };\r\n\r\n  handleChange = (event) => {\r\n    this.setState({ query: event.currentTarget.value });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className=\"Searchbar\">\r\n        <form className=\"SearchForm\" onSubmit={this.handleSubmit}>\r\n          <button type=\"submit\" className=\"SearchForm-button\">\r\n            <span className=\"SearchForm-button-label\">Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className=\"SearchForm-input\"\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            value={this.state.query}\r\n            onChange={this.handleChange}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nSearchbar.propTypes = {\r\n  onSubmit: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Searchbar;\r\n","import React from \"react\";\r\n\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst Button = ({ onClick, children }) => {\r\n  return (\r\n    <div className='BtnContainer'>\r\n    <button type=\"button\" className=\"Button\" onClick={onClick}>\r\n      Load more\r\n      {children}\r\n    </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nButton.propTypes = {\r\n  onClick: PropTypes.func.isRequired,\r\n  children: PropTypes.node.isRequired,\r\n};\r\n\r\nexport default Button;\r\n","import React, { Component } from \"react\";\r\n\r\nimport Loader from \"react-loader-spinner\";\r\n\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\n\r\nexport default class App extends Component {\r\n  render() {\r\n    return (\r\n      <div className='loaderContainer'>\r\n      <Loader\r\n        type=\"Oval\"\r\n        color=\"#242288\"\r\n        height={30}\r\n        width={30}\r\n        timeout={1000}\r\n      />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport ImageGallery from \"../imageGallery/ImageGallery\";\r\nimport Searchbar from \"../searchbar/Searchbar\";\r\nimport Button from \"../button/Button\";\r\nimport Loader from \"../loader/Loader\";\r\nimport axios from \"axios\";\r\nclass App extends Component {\r\n  state = {\r\n    gallery: [],\r\n    pageNamber: 1,\r\n    perPage: 12,\r\n\r\n    searchQuery: \"\",\r\n    isLoading: false,\r\n  };\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (prevState.searchQuery !== this.state.searchQuery) {\r\n      this.fetchImg();\r\n    }\r\n  }\r\n\r\n  fetchImg = () => {\r\n    const { searchQuery, pageNamber, perPage } = this.state;\r\n    const apiKey = \"21708715-c005b8eff9b2107cefe751bb8\";\r\n    this.setState({ isLoading: true });\r\n    if (!searchQuery) {\r\n      return;\r\n    }\r\n\r\n\r\n    axios\r\n      .get(\r\n        `https://pixabay.com/api/?q=${searchQuery}&page=${pageNamber}&key=${apiKey}&image_type=photo&orientation=horizontal&per_page=${perPage}`\r\n      )\r\n      .then((response) => {\r\n        this.setState((prevState) => ({\r\n          gallery: [...prevState.gallery, ...response.data.hits],\r\n          pageNamber: prevState.pageNamber + 1,\r\n        }));\r\n        window.scrollTo({\r\n          top: document.documentElement.scrollHeight,\r\n          behavior: \"smooth\",\r\n        });\r\n      })\r\n      .catch((error) => console.log(error))\r\n      .finally(() => this.setState({ isLoading: false }));\r\n  };\r\n\r\n  changeQuery = (query) => {\r\n    this.setState({\r\n      searchQuery: query,\r\n      pageNamber: 1,\r\n      gallery: [],\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { searchQuery, isLoading, gallery } = this.state;\r\n    return (\r\n      <div className=\"app\">\r\n        <Searchbar onSubmit={this.changeQuery} />\r\n        <ImageGallery gallery={gallery} />\r\n        {isLoading && <Loader />}\r\n        {searchQuery && (\r\n          <Button onClick={this.fetchImg}>\r\n            <Loader />\r\n          </Button>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./components/app/App\";\nimport \"./index.css\";\n\nReactDOM.render(\n  <>\n    <App />\n  </>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}